{% extends "base.html" %}

{% block title %}Services{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="text-center mb-5">Our Medical Services</h1>

    <!-- Search and Filter Section -->
    <div class="row mb-4">
        <div class="col-md-6 mx-auto">
            <div class="input-group">
                <input type="text" class="form-control" id="serviceSearch" placeholder="Search services...">
                <select class="form-select" id="categoryFilter" style="max-width: 200px;">
                    <option value="all">All Categories</option>
                    <option value="consultation">Consultation</option>
                    <option value="laboratory">Laboratory</option>
                    <option value="special">Special Tests</option>
                    <option value="additional">Additional Services</option>
                </select>
            </div>
        </div>
    </div>

    <div class="row g-4" id="servicesContainer">
        <!-- Consultation Services -->
        <div class="col-md-6 service-card" data-category="consultation">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Consultation Services</h5>
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">General Consultation</li>
                        <li class="list-group-item">Prescription & Diagnosis</li>
                        <li class="list-group-item">Family Planning</li>
                        <li class="list-group-item">Male Circumcision</li>
                        <li class="list-group-item">Suturing and Dressing</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Laboratory Tests -->
        <div class="col-md-6 service-card" data-category="laboratory">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Laboratory Tests</h5>
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Full Haemogram</li>
                        <li class="list-group-item">Blood Sugar & HBA1C</li>
                        <li class="list-group-item">Liver Function Tests</li>
                        <li class="list-group-item">Stool Culture</li>
                        <li class="list-group-item">H.Pylori Antigen Test</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Special Tests -->
        <div class="col-md-6 service-card" data-category="special">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Special Tests</h5>
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Rheumatoid Factor/Anti CCP</li>
                        <li class="list-group-item">Renal Function Tests</li>
                        <li class="list-group-item">ESR</li>
                        <li class="list-group-item">C-Reactive Protein</li>
                        <li class="list-group-item">Calcium Levels</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Additional Services -->
        <div class="col-md-6 service-card" data-category="additional">
            <div class="card h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Additional Services</h5>
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Nebulisation</li>
                        <li class="list-group-item">Couple Counselling</li>
                        <li class="list-group-item">Dispensing Pharmacy</li>
                        <li class="list-group-item">Urine Analysis</li>
                        <li class="list-group-item">Blood Grouping</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('serviceSearch');
    const categoryFilter = document.getElementById('categoryFilter');
    const serviceCards = document.querySelectorAll('.service-card');

    function filterServices() {
        const searchTerm = searchInput.value.toLowerCase();
        const selectedCategory = categoryFilter.value;

        serviceCards.forEach(card => {
            const category = card.dataset.category;
            const content = card.textContent.toLowerCase();
            const matchesSearch = content.includes(searchTerm);
            const matchesCategory = selectedCategory === 'all' || category === selectedCategory;

            card.style.display = matchesSearch && matchesCategory ? 'block' : 'none';
        });
    }

    searchInput.addEventListener('input', filterServices);
    categoryFilter.addEventListener('change', filterServices);
});
</script>
{% endblock %}